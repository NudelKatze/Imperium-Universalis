prov_wealth_calculation_effect = {
	set_variable = {
		which = raid_party_local_loot
		value = 0
	}
	export_to_variable = {
		which = province_raid_rural_wealth
		value = trigger_value:base_manpower
	}
	multiply_variable = {
		which = province_raid_rural_wealth
		value = 1.5
	}
	change_variable = {
		which = raid_party_local_loot
		which = province_raid_rural_wealth
	}
	export_to_variable = {
		which = province_raid_urban_wealth
		value = trigger_value:base_production
	}
	multiply_variable = {
		which = province_raid_urban_wealth
		value = 2.5
	}
	change_variable = {
		which = raid_party_local_loot
		which = province_raid_urban_wealth
	}
	export_to_variable = {
		which = province_raid_elite_wealth
		value = trigger_value:base_tax
	}
	multiply_variable = {
		which = province_raid_elite_wealth
		value = 4
	}
	change_variable = {
		which = raid_party_local_loot
		which = province_raid_elite_wealth
	}
	trigger_switch = {
		on_trigger = province_has_center_of_trade_of_level
		3 = { change_variable = { which = raid_party_local_loot value = 10 } }
		2 = { change_variable = { which = raid_party_local_loot value = 5 } }
		1 = { change_variable = { which = raid_party_local_loot value = 2 } }
	}
	export_to_variable = {
		which = province_raid_total_tax
		value = modifier:local_tax_modifier
	}
	divide_variable = {
		which = province_raid_total_tax
		value = 10
	}
	change_variable = {
		which = raid_party_accumulated_loot
		which = province_raid_total_tax
	}
	export_to_variable = {
		which = province_raid_total_production
		value = modifier:local_production_efficiency
	}
	divide_variable = {
		which = province_raid_total_production
		value = 10
	}
	change_variable = {
		which = raid_party_local_loot
		which = province_raid_total_production
	}
	export_to_variable = {
		which = province_raid_devastation
		value = trigger_value:devastation
	}
	divide_variable = {
		which = province_raid_devastation
		value = 20
	}
	divide_variable = {
		which = raid_party_local_loot
		which = province_raid_devastation
	}
	if = {
		limit = { is_prosperous = yes }
		multiply_variable = {
			which = raid_party_local_loot
			value = 4
		}
	}
	ROOT = {
		set_variable = {
			which = raid_party_local_loot
			which = prev
		}
	}
}

tribal_raid_devastation_effect = {
	if = {
		limit = { has_country_flag = lenient_raiding_flag }
		event_target:raid_target_province = { add_devastation = 25 }
	}
	else_if = {
		limit = { has_country_flag = reasonable_raiding_flag }
		event_target:raid_target_province = {
			add_devastation = 40
			add_base_manpower = -1
		}
	}
	else = {
		event_target:raid_target_province = {
			add_devastation = 70
			add_base_manpower = -1
			if = {
				limit = { base_production = 2 }
				add_base_production = -1
			}
			if = {
				limit = { base_tax = 2 }
				add_base_tax = 1
			}
		}
	}
}

tribal_raid_award_effect = {
	add_prestige = 1
	add_army_tradition = 2
	add_mil_power = 10
}

tribal_raid_run_award_effect = {
	add_army_professionalism = 0.01
	add_mil_power = 10
}

tribal_raid_add_loot_victory_effect = {
	hidden_effect = {
		if = {
			limit = { has_country_flag = lenient_raiding_flag }
			multiply_variable = {
				which = raid_party_local_loot
				value = 0.9
			}
		}
		else_if = {
			limit = { has_country_flag = harsh_raiding_flag }
			multiply_variable = {
				which = raid_party_local_loot
				value = 1.1
			}
		}
		change_variable = {
			which = raid_party_accumulated_loot
			which = raid_party_local_loot
		}
		set_variable = {
			which = raid_party_local_loot
			value = 0
		}
	}
}

tribal_raid_add_loot_confrontation_battle_lost_effect = {
	hidden_effect = {
		if = {
			limit = { has_country_flag = lenient_raiding_flag }
			multiply_variable = {
				which = raid_party_local_loot
				value = 0.9
			}
		}
		else_if = {
			limit = { has_country_flag = harsh_raiding_flag }
			multiply_variable = {
				which = raid_party_local_loot
				value = 1.1
			}
		}
		multiply_variable = {
			which = raid_party_local_loot
			value = 0.33
		}
		change_variable = {
			which = raid_party_accumulated_loot
			which = raid_party_local_loot
		}
		set_variable = {
			which = raid_party_local_loot
			value = 0
		}
	}
}

tribal_raid_add_loot_confrontation_run_win_effect = {
	hidden_effect = {
		if = {
			limit = { has_country_flag = lenient_raiding_flag }
			multiply_variable = {
				which = raid_party_local_loot
				value = 0.9
			}
		}
		else_if = {
			limit = { has_country_flag = harsh_raiding_flag }
			multiply_variable = {
				which = raid_party_local_loot
				value = 1.1
			}
		}
		multiply_variable = {
			which = raid_party_local_loot
			value = 0.75
		}
		change_variable = {
			which = raid_party_accumulated_loot
			which = raid_party_local_loot
		}
		set_variable = {
			which = raid_party_local_loot
			value = 0
		}
	}
}

tribal_raid_move_prov_effect = {
	event_target:raid_target_province = {
		set_variable = {
			which = raid_party_local_loot
			value = 0
		}
		set_province_flag = raided_province_flag
		random_neighbor_province = {
			if = {
				limit = {
					NOT = { has_province_flag = raided_province_flag }
					owned_by = event_target:country_raid_target
					area = prev
				}
				save_global_event_target_as = raid_target_province
			}
			else_if = {
				limit = {
					NOT = { has_province_flag = raided_province_flag }
					owned_by = event_target:country_raid_target
				}
				save_global_event_target_as = raid_target_province
			}
		}
	}
}

tribal_raid_attack_on_capital_effect = {
	if = { #High chances of winning
		limit = { check_variable = { which = raid_party_power value = 8 } }
		random_list = {
			90 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.06
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			10 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.4
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 8 } }
			check_variable = { which = raid_party_power value = 7 }
		}
		random_list = {
			80 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.06
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			20 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.4
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 7 } }
			check_variable = { which = raid_party_power value = 6 }
		}
		random_list = {
			75 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.06
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			25 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.4
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 6 } }
			check_variable = { which = raid_party_power value = 5 }
		}
		random_list = {
			70 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.06
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			30 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.4
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 5 } }
			check_variable = { which = raid_party_power value = 4 }
		}
		random_list = {
			65 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.06
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			35 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.4
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 4 } }
			check_variable = { which = raid_party_power value = 3 }
		}
		random_list = {
			60 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.06
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			40 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.4
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = { #Actual RNG
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 3 } }
			check_variable = { which = raid_party_power value = 2 }
		}
		random_list = {
			50 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.06
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			50 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.4
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 2 } }
			check_variable = { which = raid_party_power value = 1 }
		}
		random_list = {
			40 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.06
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			60 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.4
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = { #High chances of losing
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 1 } }
		}
		random_list = {
			30 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.06
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			70 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.4
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
}

tribal_raid_attack_on_fort_units_effect = {
	if = { #High chances of winning
		limit = { check_variable = { which = raid_party_power value = 8 } }
		random_list = {
			90 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.05
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			10 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 8 } }
			check_variable = { which = raid_party_power value = 7 }
		}
		random_list = {
			80 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.05
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			20 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 7 } }
			check_variable = { which = raid_party_power value = 6 }
		}
		random_list = {
			75 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.05
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			25 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 6 } }
			check_variable = { which = raid_party_power value = 5 }
		}
		random_list = {
			70 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.05
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			30 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 5 } }
			check_variable = { which = raid_party_power value = 4 }
		}
		random_list = {
			65 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.05
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			35 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 4 } }
			check_variable = { which = raid_party_power value = 3 }
		}
		random_list = {
			60 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.05
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			40 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = { #Actual RNG
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 3 } }
			check_variable = { which = raid_party_power value = 2 }
		}
		random_list = {
			50 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.05
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			50 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 2 } }
			check_variable = { which = raid_party_power value = 1 }
		}
		random_list = {
			40 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.05
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			60 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = { #High chances of losing
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 1 } }
		}
		random_list = {
			30 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.05
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			70 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
}

tribal_raid_attack_on_fort_or_units_effect = {
	if = { #High chances of winning
		limit = { check_variable = { which = raid_party_power value = 8 } }
		random_list = {
			90 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.03
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			10 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 8 } }
			check_variable = { which = raid_party_power value = 7 }
		}
		random_list = {
			80 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.03
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			20 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 7 } }
			check_variable = { which = raid_party_power value = 6 }
		}
		random_list = {
			75 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.03
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			25 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 6 } }
			check_variable = { which = raid_party_power value = 5 }
		}
		random_list = {
			70 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.03
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			30 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 5 } }
			check_variable = { which = raid_party_power value = 4 }
		}
		random_list = {
			65 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.03
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			35 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 4 } }
			check_variable = { which = raid_party_power value = 3 }
		}
		random_list = {
			60 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.03
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			40 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = { #Actual RNG
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 3 } }
			check_variable = { which = raid_party_power value = 2 }
		}
		random_list = {
			50 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.03
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			50 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 2 } }
			check_variable = { which = raid_party_power value = 1 }
		}
		random_list = {
			40 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.03
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			60 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = { #High chances of losing
		limit = {
			NOT = { check_variable = { which = raid_party_power value = 1 } }
		}
		random_list = {
			30 = {
				divide_variable = { #Win
					which = raid_party_manpower
					value = 1.03
				}
				tribal_raid_add_loot_victory_effect = yes
				tribal_raid_award_effect = yes
			}
			80 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
}

tribal_raid_run_capital_effect = {
	if = { #High chances of being routed
		limit = { check_variable = { which = raid_party_speed value = 1.3 } }
		random_list = {
			25 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			75 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 1.3 } }
			check_variable = { which = raid_party_speed value = 1.2 }
		}
		random_list = {
			30 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			70 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 1.2 } }
			check_variable = { which = raid_party_speed value = 1.1 }
		}
		random_list = {
			35 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			75 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 1.1 } }
			check_variable = { which = raid_party_speed value = 1 }
		}
		random_list = {
			45 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			55 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = { #Pure RNG
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 1 } }
			check_variable = { which = raid_party_speed value = 0.9 }
		}
		random_list = {
			50 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			50 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.9 } }
			check_variable = { which = raid_party_speed value = 0.8 }
		}
		random_list = {
			55 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			45 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.8 } }
			check_variable = { which = raid_party_speed value = 0.7 }
		}
		random_list = {
			60 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			40 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.7 } }
			check_variable = { which = raid_party_speed value = 0.6 }
		}
		random_list = {
			70 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			30 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.6 } }
			check_variable = { which = raid_party_speed value = 0.5 }
		}
		random_list = {
			75 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			25 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.5 } }
			check_variable = { which = raid_party_speed value = 0.4 }
		}
		random_list = {
			80 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			20 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.4 } }
			check_variable = { which = raid_party_speed value = 0.3 }
		}
		random_list = {
			90 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			10 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.35
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
}

tribal_raid_run_fort_units_effect = {
	if = { #High chances of being routed
		limit = { check_variable = { which = raid_party_speed value = 1.3 } }
		random_list = {
			25 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			75 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.3
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 1.3 } }
			check_variable = { which = raid_party_speed value = 1.2 }
		}
		random_list = {
			30 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			70 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.3
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 1.2 } }
			check_variable = { which = raid_party_speed value = 1.1 }
		}
		random_list = {
			35 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			75 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.3
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 1.1 } }
			check_variable = { which = raid_party_speed value = 1 }
		}
		random_list = {
			45 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			55 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.3
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = { #Pure RNG
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 1 } }
			check_variable = { which = raid_party_speed value = 0.9 }
		}
		random_list = {
			50 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			50 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.3
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.9 } }
			check_variable = { which = raid_party_speed value = 0.8 }
		}
		random_list = {
			55 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			45 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.3
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.8 } }
			check_variable = { which = raid_party_speed value = 0.7 }
		}
		random_list = {
			60 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			40 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.3
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.7 } }
			check_variable = { which = raid_party_speed value = 0.6 }
		}
		random_list = {
			70 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			30 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.3
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.6 } }
			check_variable = { which = raid_party_speed value = 0.5 }
		}
		random_list = {
			75 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			25 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.3
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.5 } }
			check_variable = { which = raid_party_speed value = 0.4 }
		}
		random_list = {
			80 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			20 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.3
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.4 } }
			check_variable = { which = raid_party_speed value = 0.3 }
		}
		random_list = {
			90 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			10 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.3
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
}

tribal_raid_run_fort_or_units_effect = {
	if = { #High chances of being routed
		limit = { check_variable = { which = raid_party_speed value = 1.3 } }
		random_list = {
			25 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			75 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 1.3 } }
			check_variable = { which = raid_party_speed value = 1.2 }
		}
		random_list = {
			30 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			70 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 1.2 } }
			check_variable = { which = raid_party_speed value = 1.1 }
		}
		random_list = {
			35 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			75 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 1.1 } }
			check_variable = { which = raid_party_speed value = 1 }
		}
		random_list = {
			45 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			55 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = { #Pure RNG
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 1 } }
			check_variable = { which = raid_party_speed value = 0.9 }
		}
		random_list = {
			50 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			50 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.9 } }
			check_variable = { which = raid_party_speed value = 0.8 }
		}
		random_list = {
			55 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			45 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.8 } }
			check_variable = { which = raid_party_speed value = 0.7 }
		}
		random_list = {
			60 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			40 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.7 } }
			check_variable = { which = raid_party_speed value = 0.6 }
		}
		random_list = {
			70 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			30 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.6 } }
			check_variable = { which = raid_party_speed value = 0.5 }
		}
		random_list = {
			75 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			25 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.5 } }
			check_variable = { which = raid_party_speed value = 0.4 }
		}
		random_list = {
			80 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			20 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_speed value = 0.4 } }
			check_variable = { which = raid_party_speed value = 0.3 }
		}
		random_list = {
			90 = {
				tribal_raid_add_loot_confrontation_run_win_effect = yes
				tribal_raid_run_award_effect = yes
			}
			10 = {
				divide_variable = { #Loss
					which = raid_party_manpower
					value = 1.2
				}
				tribal_raid_add_loot_confrontation_battle_lost_effect = yes
			}
		}
	}
}

tribal_raid_end_effect = {
	if = {
		limit = { check_variable = { which = raid_party_manpower value = 5000 } }
		add_manpower = 5
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 5000 } }
			check_variable = { which = raid_party_manpower value = 4500 }
		}
		add_manpower = 4.5
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 4500 } }
			check_variable = { which = raid_party_manpower value = 4000 }
		}
		add_manpower = 4
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 4000 } }
			check_variable = { which = raid_party_manpower value = 3500 }
		}
		add_manpower = 3.5
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 3500 } }
			check_variable = { which = raid_party_manpower value = 3000 }
		}
		add_manpower = 3
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 3000 } }
			check_variable = { which = raid_party_manpower value = 2500 }
		}
		add_manpower = 2.5
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 2500 } }
			check_variable = { which = raid_party_manpower value = 2000 }
		}
		add_manpower = 2
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 2000 } }
			check_variable = { which = raid_party_manpower value = 1500 }
		}
		add_manpower = 1.5
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 1500 } }
			check_variable = { which = raid_party_manpower value = 1000 }
		}
		add_manpower = 1
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 1000 } }
			check_variable = { which = raid_party_manpower value = 750 }
		}
		add_manpower = 0.75
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 750 } }
			check_variable = { which = raid_party_manpower value = 500 }
		}
		add_manpower = 0.5
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 500 } }
			check_variable = { which = raid_party_manpower value = 400 }
		}
		add_manpower = 0.4
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 400 } }
			check_variable = { which = raid_party_manpower value = 300 }
		}
		add_manpower = 0.3
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 300 } }
			check_variable = { which = raid_party_manpower value = 200 }
		}
		add_manpower = 0.2
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 200 } }
			check_variable = { which = raid_party_manpower value = 100 }
		}
		add_manpower = 0.1
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_manpower value = 100 } }
			check_variable = { which = raid_party_manpower value = 75 }
		}
		add_manpower = 0.075
	}
	else = { add_manpower = 0.05 }
	hidden_effect = {
		clr_country_flag = very_small_raiding_party_flag
		clr_country_flag = small_raiding_party_flag
		clr_country_flag = mid_raiding_party_flag
		clr_country_flag = large_raiding_party_flag
		clr_country_flag = very_large_raiding_party_flag

		clr_country_flag = lenient_raiding_flag
		clr_country_flag = reasonable_raiding_flag
		clr_country_flag = harsh_raiding_flag

		event_target:country_raid_target = {
			every_owned_province = {
				limit = { has_province_flag = raided_province_flag }
				clr_province_flag = raided_province_flag
			}
		}
		clear_global_event_target = raid_target_province
		clear_global_event_target = country_raid_target
		set_variable = {
			which = raid_party_manpower
			value = 0
		}
	}
}

add_treasury_loot_raid_effect = {
	if = {
		limit = { check_variable = { which = raid_party_accumulated_loot value = 2000 } }
		add_treasury = 2000
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 2000 } }
			check_variable = { which = raid_party_accumulated_loot value = 1900 }
		}
		add_treasury = 1900
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 1900 } }
			check_variable = { which = raid_party_accumulated_loot value = 1800 }
		}
		add_treasury = 1800
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 1800 } }
			check_variable = { which = raid_party_accumulated_loot value = 1700 }
		}
		add_treasury = 1700
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 1700 } }
			check_variable = { which = raid_party_accumulated_loot value = 1600 }
		}
		add_treasury = 1600
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 1600 } }
			check_variable = { which = raid_party_accumulated_loot value = 1500 }
		}
		add_treasury = 1500
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 1500 } }
			check_variable = { which = raid_party_accumulated_loot value = 1400 }
		}
		add_treasury = 1400
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 1400 } }
			check_variable = { which = raid_party_accumulated_loot value = 1300 }
		}
		add_treasury = 1300
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 1300 } }
			check_variable = { which = raid_party_accumulated_loot value = 1200 }
		}
		add_treasury = 1200
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 1200 } }
			check_variable = { which = raid_party_accumulated_loot value = 1100 }
		}
		add_treasury = 1100
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 1100 } }
			check_variable = { which = raid_party_accumulated_loot value = 1000 }
		}
		add_treasury = 1000
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 1000 } }
			check_variable = { which = raid_party_accumulated_loot value = 900 }
		}
		add_treasury = 900
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 900 } }
			check_variable = { which = raid_party_accumulated_loot value = 800 }
		}
		add_treasury = 800
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 800 } }
			check_variable = { which = raid_party_accumulated_loot value = 700 }
		}
		add_treasury = 700
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 700 } }
			check_variable = { which = raid_party_accumulated_loot value = 600 }
		}
		add_treasury = 600
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 600 } }
			check_variable = { which = raid_party_accumulated_loot value = 500 }
		}
		add_treasury = 500
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 500 } }
			check_variable = { which = raid_party_accumulated_loot value = 400 }
		}
		add_treasury = 400
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 400 } }
			check_variable = { which = raid_party_accumulated_loot value = 300 }
		}
		add_treasury = 300
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 300 } }
			check_variable = { which = raid_party_accumulated_loot value = 200 }
		}
		add_treasury = 200
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 200 } }
			check_variable = { which = raid_party_accumulated_loot value = 100 }
		}
		add_treasury = 100
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 100 } }
			check_variable = { which = raid_party_accumulated_loot value = 90 }
		}
		add_treasury = 90
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 90 } }
			check_variable = { which = raid_party_accumulated_loot value = 80 }
		}
		add_treasury = 80
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 80 } }
			check_variable = { which = raid_party_accumulated_loot value = 70 }
		}
		add_treasury = 70
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 70 } }
			check_variable = { which = raid_party_accumulated_loot value = 60 }
		}
		add_treasury = 60
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 60 } }
			check_variable = { which = raid_party_accumulated_loot value = 50 }
		}
		add_treasury = 50
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 50 } }
			check_variable = { which = raid_party_accumulated_loot value = 40 }
		}
		add_treasury = 40
	}
	else_if = {
		limit = {
			NOT = { check_variable = { which = raid_party_accumulated_loot value = 40 } }
			check_variable = { which = raid_party_accumulated_loot value = 30 }
		}
		add_treasury = 30
	}
	else = { add_treasury = 20 }
	hidden_effect = {
		set_variable = {
			which = raid_party_accumulated_loot
			value = 0
		}
	}
}
